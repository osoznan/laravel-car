# Тестовое задание от Александра З.

## Установка

Выполните комманду `composer update`

В файле `.env` корневого каталога укажите *свои* данные для входа в БД:
```
DB_CONNECTION=mysql
DB_HOST=localhost
DB_PORT=3306
DB_DATABASE=test-laravel
DB_USERNAME=mysql
DB_PASSWORD=mysql
```

`php artisan migrate` (создание таблиц)

`php artisan generate:db` (генерация данных базы)

в папке `config` в конфиг. файле `user.php` находятся настройки, напрямую связанные с тестовым заданием (марки, модели, типы двигателя, приводы). В частности, можно задать диапазон рандомного кол-ва генерируемых записей для каждой модели.

## Особенности интерфейса
При выборе марки авто, после обновления страницы, в списке моделей находятся только модели этой марки

Если марка не выбрана, но выбирается модель, на фронте определяется марка модели, и соответственно адекватный адрес вида /catalog/brand/model .

`h1` и `title` сменяются соответственно.

По параметрам модели (тип двигателя, привод) осуществляется фильтрация, можно фильтровать выбирая несколько значений параметра (чекбоксы, а не радиокнопки)

Фильтрация по этим параметрам происходит через `ajax`.

В независимости от того, выбрана ли марка, марка и модель, или вообще ничего не выбрано из оных -- фильтрация по типу двигателя и приводу происходит одинаково.

Query string не затрагивается при изменении фильтров.

При заходе на страницу с параметрами марки, модели и фильтра, выбранные значения выставляются в контролах соответственно.

При вводе неверной марки или бренда, выдаётся ошибка 404 с соотв. страницей. При задании неверного параметра (например `/wrong=hello,world`) он игнорируется (в принципе дискусионно, да).

Присутствует пагинация (по 10 записей на страницу).

## Особенности разработки

Мне удобнее делать на Yii2. Однако на и Ларавеле пошло, даже лучше чем я думал.

Хоть страница и одна по большому счёту, однако разметил темплейты (чтобы было видно какие приёмы использую), также есть примеры создания виджетов пространство имён `App\Components`, там и файл базового класса Виджета `Widget.php`)

Я мог сделать таблицы для всех параметров (это собссно было бы проще), однако для демонстрации разных приёмов (да и собственного спортивного интереса), для типа и двигателя не делал таблицы, а задавал значения в массивах конфига, а в базе хранил кода (соответствующие ключам массивов конфига).

Выполнение "основной операции" (получение данных таблицы) выделено в отдельный класс `App\Components\CatalogManager`.

Получение данных страницы и по `get`, и  по `ajax` происходит вызовом одного адреса.
